(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{199:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"f",(function(){return v})),n.d(e,"a",(function(){return d}));var r=n(68),c=function(t){return r.b.get("/articles",{params:t})},o=function(t){return r.b.get("/articles/feed",t)},l=function(){return r.b.get("/tags")},f=function(t){return r.b.post("/articles/".concat(t,"/favorite"))},v=function(t){return r.b.delete("/articles/".concat(t,"/favorite"))},d=function(t){return r.b.get("/articles/".concat(t))}},204:function(t,e,n){var r=n(3),c=n(33),o=n(9),l=n(205),f="["+l+"]",v=RegExp("^"+f+f+"*"),d=RegExp(f+f+"*$"),m=function(t,e,n){var c={},f=o((function(){return!!l[t]()||"​"!="​"[t]()})),v=c[t]=f?e(_):l[t];n&&(c[n]=v),r(r.P+r.F*f,"String",c)},_=m.trim=function(t,e){return t=String(c(t)),1&e&&(t=t.replace(v,"")),2&e&&(t=t.replace(d,"")),t};t.exports=m},205:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},214:function(t,e,n){var r=n(3),c=n(215);r(r.S+r.F*(Number.parseInt!=c),"Number",{parseInt:c})},215:function(t,e,n){var r=n(5).parseInt,c=n(204).trim,o=n(205),l=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=c(String(t),3);return r(n,e>>>0||(l.test(n)?16:10))}:r},216:function(t,e,n){"use strict";var r=n(5),c=n(26),o=n(27),l=n(135),f=n(69),v=n(9),d=n(51).f,m=n(52).f,_=n(11).f,C=n(204).trim,h="Number",x=r.Number,k=x,I=x.prototype,N=o(n(89)(I))==h,y="trim"in String.prototype,w=function(t){var e=f(t,!1);if("string"==typeof e&&e.length>2){var n,r,c,o=(e=y?e.trim():C(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,c=49;break;case 79:case 111:r=8,c=55;break;default:return+e}for(var code,l=e.slice(2),i=0,v=l.length;i<v;i++)if((code=l.charCodeAt(i))<48||code>c)return NaN;return parseInt(l,r)}}return+e};if(!x(" 0o1")||!x("0b1")||x("+0x1")){x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(N?v((function(){I.valueOf.call(n)})):o(n)!=h)?l(new k(w(e)),n,x):w(e)};for(var E,A=n(7)?d(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;A.length>F;F++)c(k,E=A[F])&&!c(x,E)&&_(x,E,m(k,E));x.prototype=I,I.constructor=x,n(14)(r,h,x)}},275:function(t,e,n){"use strict";n.r(e);var r=n(10),c=n(4),article=(n(38),n(214),n(216),n(39),n(15),n(40),n(199)),o={name:"home",asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,c,o,l,f,v,d,m,_,C,h,x,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,c=t.store,o=2,l=Number.parseInt(n.page||1),f=n.tab||"global_feed",v=c.state.user&&"your_feed"===f?article.c:article.d,e.next=7,Promise.all([v({limit:o,offset:(l-1)*o,tag:n.tag}),Object(article.e)()]);case 7:return d=e.sent,m=Object(r.a)(d,2),_=m[0],C=m[1],h=_.data,x=h.articles,k=h.articlesCount,x.forEach((function(article){return article.disabled=!1})),e.abrupt("return",{articles:x,articlesCount:k,limit:o,page:l,tag:"tag",tab:f,tagList:C.data.tags});case 14:case"end":return e.stop()}}),e)})))()},watchQuery:["page","tag","tab"],computed:{pages:function(){return Math.ceil(this.articlesCount/this.limit)}},methods:{toggleFeed:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t.disabled=!0,!t.favorited){e.next=9;break}return e.next=5,Object(article.f)(t.slug);case 5:t.favorited=!1,t.favoritesCount-=1,e.next=13;break;case 9:return e.next=11,Object(article.b)(t.slug);case 11:t.favorited=!0,t.favoritesCount+=1;case 13:t.disabled=!1;case 14:case"end":return e.stop()}}),e)})))()}}},l=o,f=n(13),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-page"},[t._m(0),t._v(" "),n("div",{staticClass:"container page"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-9"},[n("div",{staticClass:"feed-toggle"},[n("ul",{staticClass:"nav nav-pills outline-active"},[n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",class:{active:"your_feed"===t.tab},attrs:{to:{name:"home",query:{tab:"your_feed"}},exact:""}},[t._v("\n                Your Feed\n              ")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",class:{active:"global_feed"===t.tab},attrs:{to:{name:"home",query:{tab:"gloab_feed"}},exact:""}},[t._v("\n                Global Feed\n              ")])],1),t._v(" "),t.tag?n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",class:{active:t.tab===t.tag},attrs:{to:{name:"home",query:{tab:t.tag,tag:t.tag}},exact:""}},[t._v("\n                "+t._s(t.tag)+"\n              ")])],1):t._e()])]),t._v(" "),t.articles.length>0?n("div",t._l(t.articles,(function(article){return n("div",{key:article.slug,staticClass:"article-preview"},[n("div",{staticClass:"article-meta"},[n("nuxt-link",{attrs:{to:{name:"profile",params:{username:article.author.username}}}},[n("img",{attrs:{src:article.author.image}})]),t._v(" "),n("div",{staticClass:"info"},[n("nuxt-link",{attrs:{to:{name:"profile",params:{slug:article.author.username}}}},[t._v("\n                  "+t._s(article.author.username)+"\n                ")]),t._v(" "),n("span",{staticClass:"date"},[t._v(t._s(article.updatedAt))])],1),t._v(" "),n("button",{staticClass:"btn btn-outline-primary btn-sm pull-xs-right",class:{active:article.favorited},attrs:{disabled:article.disabled},on:{click:function(e){return t.toggleFeed(article)}}},[n("i",{staticClass:"ion-heart"}),t._v(" "+t._s(article.favoritesCount)+"\n              ")])],1),t._v(" "),n("nuxt-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{id:article.slug}}}},[n("h1",[t._v(t._s(article.title))]),t._v(" "),n("p",[t._v(t._s(article.body))]),t._v(" "),n("span",[t._v("Read more...")])])],1)})),0):n("div",[n("span",[t._v("no Article")])]),t._v(" "),n("ul",{staticClass:"pagination"},t._l(t.pages,(function(e){return n("li",{key:e,staticClass:"page-item ng-scope",class:{active:t.page===e}},[n("nuxt-link",{staticClass:"page-link ng-binding",attrs:{to:{name:"home",query:{page:e}}}},[t._v(t._s(e))])],1)})),0)]),t._v(" "),n("div",{staticClass:"col-md-3"},[n("div",{staticClass:"sidebar"},[n("p",[t._v("Popular Tags")]),t._v(" "),n("div",{staticClass:"tag-list"},t._l(t.tagList,(function(t){return n("nuxt-link",{key:t,staticClass:"tag-pill tag-default",attrs:{to:{name:"home",query:{tag:t}}}})})),1)])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"logo-font"},[t._v("conduit")]),t._v(" "),n("p",[t._v("A place to share your knowledge.")])])])}],!1,null,null,null);e.default=component.exports}}]);